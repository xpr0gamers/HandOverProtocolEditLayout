sap.ui.define(["./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox"],function(t,e,o,n){"use strict";return t.extend("sap.Beutlhauser.HandOverProtocolEditLayout.controller.CopyLayoutDialog",{onInit:function(){},showDialog:function(t){this.oDialog=this.getView().getContent()[0];this.sProdhCopy=t;this.oDialog.open()},onSearchProductLines:function(t){const n=[];const i=t.getParameter("value");if(i&&i.length>=1){n.push(new e("Description",o.Contains,i.toLowerCase()))}const s=t.getParameter("itemsBinding");s.filter(n)},copyLayout:function(t){this.getView().setBusy(true);const e=t.map(function(t){return t.Prodh}).join(",");this.getView().getModel("handoverLayout").callFunction("/CopyLayout",{method:"GET",urlParameters:{Prodh:this.sProdhCopy,ProdhTargets:e},success:function(){this.getView().setBusy(false)}.bind(this),error:function(){this.getView().setBusy(false)}.bind(this)})},onSelectToCopyLayouts:function(t){const e=t.getParameter("selectedItems").map(function(t){return t.getBindingContext("handoverLayout").getObject()});if(e.length==0){return}const o=e.filter(function(t){return t.LayoutExists==true}).map(function(t){return t.Description}).join(", ");if(o.length!=0){n.confirm("Achtung, die Layouts für "+o+" werden überschrieben",{onClose:function(t){if(t!="OK"){return}this.copyLayout(e)}.bind(this)})}else{this.copyLayout(e)}}})});